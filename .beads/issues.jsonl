{"id":"test-loom-27c","title":"Implement enricher pipeline with pluggable interfaces","description":"internal/enricher/ - Enricher interface + 5 implementations: grouper (by package), patterns (no-op), simplifier (prune+cap), annotator (no-op), scorer (equal weight). All have LLM-ready interfaces for iteration 2.","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:56.360211-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:00.702199-06:00","closed_at":"2026-02-19T09:06:00.702199-06:00","close_reason":"All 5 enricher files implemented with default code-only implementations"}
{"id":"test-loom-2ul","title":"Fix color differentiation not rendering in browser for interfaces vs implementations","description":"The classDef and cssClass directives for color-coding interfaces (blue #2374ab) vs implementations (green #4a9c6d) are present in the generated Mermaid source but not rendering visually in the browser. The styles were added in mermaid.go but may not be taking effect with Mermaid.js v11 in-browser rendering. Need to investigate why and fix.","status":"closed","priority":1,"issue_type":"bug","owner":"olesho@gmail.com","created_at":"2026-02-19T16:25:51.602997-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:43:48.291601-06:00","closed_at":"2026-02-19T16:43:48.291601-06:00","close_reason":"Closed"}
{"id":"test-loom-6oq","title":"Create initial git commit for goifaces","description":"Stage all project files and create the initial commit. Verify pre-commit hook runs lint + tests successfully. Do NOT commit logs/ or testdata/*/output.* files (gitignored).","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:44.018283-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T10:55:38.076036-06:00","closed_at":"2026-02-19T10:55:38.076036-06:00","close_reason":"Initial commit 9f31a3a created. Pre-commit hook verified lint + tests pass."}
{"id":"test-loom-6t1","title":"Implement input resolver package","description":"internal/resolver/resolver.go - resolves local dirs, sub-package paths, and GitHub URLs (git clone --depth=1) to analyzable directories","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:48.459913-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:05:52.258219-06:00","closed_at":"2026-02-19T09:05:52.258219-06:00","close_reason":"Implemented with local dir, GitHub URL clone, and go mod download"}
{"id":"test-loom-720","title":"Create Mermaid syntax verifier for CI and development","description":"Add a verification step that validates generated Mermaid code against Mermaid.js parser (not just mmdc CLI). Should catch syntax errors before serving to browser. Can use Node.js mermaid package or mmdc --parseOnly.","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T16:07:55.764085-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:11:04.387828-06:00","closed_at":"2026-02-19T16:11:04.387828-06:00","close_reason":"Closed"}
{"id":"test-loom-7r8","title":"Implement structured logging package","description":"internal/logging/logging.go - slog JSON handler with dual output (stderr + file), Setup function returning logger and cleanup","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:30.406814-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:05:35.054043-06:00","closed_at":"2026-02-19T09:05:35.054043-06:00","close_reason":"Implemented with slog JSONHandler and io.MultiWriter"}
{"id":"test-loom-86t","title":"Implement Mermaid diagram generator","description":"internal/diagram/mermaid.go - generates deterministic classDiagram syntax with sanitized IDs, method truncation, and sorted output","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:06:05.360739-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:09.108986-06:00","closed_at":"2026-02-19T09:06:09.108986-06:00","close_reason":"Implemented with deterministic sorting, relevant method filtering, and pointer-receiver labels"}
{"id":"test-loom-873","title":"Mermaid syntax error in browser - Unicode sanitization chars not supported by Mermaid.js v11","description":"The sanitizeSignature() function in internal/diagram/mermaid.go replaces {}\u003c\u003e with Unicode alternatives (⦃⦄ᐊ‹›) that pass mmdc CLI rendering but fail in browser Mermaid.js v11.12.3. Need to use only ASCII-safe replacements that work in both contexts.","status":"closed","priority":1,"issue_type":"bug","owner":"olesho@gmail.com","created_at":"2026-02-19T15:48:38.349512-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:11:04.294301-06:00","closed_at":"2026-02-19T16:11:04.294301-06:00","close_reason":"Closed"}
{"id":"test-loom-a0i","title":"Implement HTTP server with Mermaid.js rendering","description":"internal/server/server.go - serves HTML with Mermaid.js CDN v11, zoom controls, copy button, auto-browser-open, graceful shutdown","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:06:16.076028-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:19.490009-06:00","closed_at":"2026-02-19T09:06:19.490009-06:00","close_reason":"Implemented with dark/light mode, zoom, copy, and graceful shutdown"}
{"id":"test-loom-a8u","title":"Implement core analyzer package","description":"internal/analyzer/ - types.go (InterfaceDef, TypeDef, MethodSig, Relation, Result), analyzer.go (package loading via go/packages, interface/type collection, types.Implements matching), filter.go (stdlib/unexported/prefix filtering, orphan pruning)","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:39.671251-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:05:44.098826-06:00","closed_at":"2026-02-19T09:05:44.098826-06:00","close_reason":"Implemented with stdlib interface loading, error builtin handling, and all filtering"}
{"id":"test-loom-awj","title":"Mermaid syntax error when rendering go-memdb diagram in browser","description":"Running './goifaces https://github.com/hashicorp/go-memdb -port 8081' produces a Mermaid diagram that fails to render in the browser with 'Syntax error in text, mermaid version 11.12.3'. Need to investigate the generated Mermaid output for invalid syntax.","status":"closed","priority":1,"issue_type":"bug","owner":"olesho@gmail.com","created_at":"2026-02-19T15:38:56.242547-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T15:42:24.034549-06:00","closed_at":"2026-02-19T15:42:24.034549-06:00","close_reason":"Closed"}
{"id":"test-loom-ayh","title":"Run visual verification on all test diagrams","description":"Run 'bash scripts/visual-verify.sh' to render all testdata Mermaid outputs to SVG via mmdc. Then visually inspect each SVG to confirm diagrams match the input Go code. Prerequisite: npm install -g @mermaid-js/mermaid-cli","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:40.313985-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:47:39.122746-06:00","closed_at":"2026-02-19T16:47:39.122746-06:00","close_reason":"Closed"}
{"id":"test-loom-bnt","title":"Implement LLM-backed enrichers (iteration 2)","description":"Swap no-op default enrichers with LLM-backed implementations: 1) Semantic grouper - identify architectural layers 2) Pattern detector - recognize design patterns 3) Diagram simplifier - intelligent pruning 4) Annotator - add descriptions 5) Relationship scorer - rank by importance. All interfaces already defined in internal/enricher/.","status":"open","priority":4,"issue_type":"feature","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:44.690964-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:05:44.690964-06:00"}
{"id":"test-loom-co9","title":"Break large diagrams into paginated slides for readability","description":"Large diagrams like go-memdb produce a single very wide Mermaid chart that's too small to read. Need to split large diagrams into multiple slides/pages. Approach options: (1) Group by interface — each slide shows one interface and its implementors, (2) Group by package — each slide shows one package's types and interfaces, (3) Auto-partition by node count — split when diagram exceeds N nodes. The HTML server should add slide navigation (prev/next/overview). Each slide is a separate Mermaid diagram. An overview slide could show just the relationship graph without method details. Consider also adding a sidebar navigation listing all interfaces/types for quick jumping.","status":"closed","priority":2,"issue_type":"feature","owner":"olesho@gmail.com","created_at":"2026-02-19T16:27:53.624251-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:47:39.028799-06:00","closed_at":"2026-02-19T16:47:39.028799-06:00","close_reason":"Closed"}
{"id":"test-loom-dih","title":"Create project documentation","description":"CLAUDE.md (agent rules), AGENTS.md (agent workflow), docs/architecture.md, docs/cli-reference.md, docs/logging.md, docs/development.md, scripts/visual-verify.sh","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:06:39.4316-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:43.273698-06:00","closed_at":"2026-02-19T09:06:43.273698-06:00","close_reason":"All docs and scripts created"}
{"id":"test-loom-dl6","title":"Create integration test suite with 10 testdata scenarios","description":"internal/integration_test.go with 12 subtests across 10 testdata dirs. Each testdata dir is a self-contained Go module. Tests cover: single iface, multi impl, multi iface, pointer receiver, embedded iface, cross-package, stdlib ifaces (with/without), empty iface, unexported (with/without), diamond pattern.","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:06:32.183689-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:35.529773-06:00","closed_at":"2026-02-19T09:06:35.529773-06:00","close_reason":"All 12 tests passing. Fixed stdlib module paths, added stdlib package loading, and error builtin handling."}
{"id":"test-loom-f0x","title":"Color-code interfaces vs implementations in Mermaid diagrams","description":"Use Mermaid classDiagram styling (classDef + cssClass) to visually distinguish interfaces from concrete types. For example, interfaces in blue/teal and implementations in green/gray. This makes it immediately obvious which boxes are contracts vs implementations when viewing the diagram. Implementation is in internal/diagram/mermaid.go — add classDef statements after the classDiagram header and apply them to interface vs type nodes.","status":"closed","priority":2,"issue_type":"feature","owner":"olesho@gmail.com","created_at":"2026-02-19T11:43:00.117332-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T12:59:07.123668-06:00","closed_at":"2026-02-19T12:59:07.123668-06:00","close_reason":"Implemented in a20df86. Interfaces blue (#2374ab), implementations green (#4a9c6d) via Mermaid classDef + cssClass."}
{"id":"test-loom-f13","title":"Implement hub-and-spoke slide splitting strategy","description":"Implement the first concrete Splitter strategy: hub-and-spoke.\n\nAlgorithm:\n1. Classify nodes by connection count:\n   - 'Hub' nodes (reusable): interfaces/types with connections \u003e= threshold (e.g., 3+). These appear on EVERY slide as context.\n   - 'Spoke' nodes (non-reusable): implementations with fewer connections. These are chunked into groups.\n\n2. Group spoke nodes into chunks of N (configurable, default 3-4 per slide).\n\n3. For each chunk, build a slide containing:\n   - All hub nodes (the shared interfaces)\n   - The chunk's spoke nodes (implementations)\n   - Only the relations connecting these specific nodes\n\n4. Slide 0 remains the overview (all nodes, no methods).\n\nExample with go-memdb:\n- Hubs: memdb_Indexer, memdb_MultiIndexer, memdb_SingleIndexer, memdb_PrefixIndexer (4+ connections each)\n- Spokes: BoolFieldIndex, CompoundMultiIndex, ConditionalIndex, etc. (3 connections each)\n- Slides: chunks of 3 spokes + all hubs\n\nEdge cases:\n- A node that's both high-connectivity AND an implementation stays as a hub\n- ResultIterator + FilterIterator form their own small cluster — they should be grouped together\n- If total nodes \u003c= threshold, return single slide (no splitting)\n\nDepends on: splitter abstraction task.","status":"closed","priority":1,"issue_type":"feature","owner":"olesho@gmail.com","created_at":"2026-02-19T17:07:23.512936-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T19:19:24.213173-06:00","closed_at":"2026-02-19T19:19:24.213173-06:00","close_reason":"Implemented in hub-and-spoke slide splitting session: split package with Splitter interface, HubAndSpoke strategy, CLI flags, integration tests. All tests + linter pass.","dependencies":[{"issue_id":"test-loom-f13","depends_on_id":"test-loom-wa8","type":"blocks","created_at":"2026-02-19T17:07:38.275703-06:00","created_by":"Oleh Luchkiv"}]}
{"id":"test-loom-izp","title":"Wire splitter into main pipeline and test with go-memdb","description":"Wire the hub-and-spoke splitter into main.go and ServeSlides. Verify with go-memdb that:\n1. Overview slide shows all 17 nodes with no methods\n2. Each detail slide shows 3-4 implementations + the shared interfaces they connect to\n3. All relations are preserved (no missing arrows)\n4. Slides are navigable via prev/next/picker\n5. Each slide's Mermaid validates via scripts/verify-mermaid.sh\n\nAdd integration test: build slides for go-memdb-like synthetic data, assert slide count and hub presence on each slide.\n\nDepends on: hub-and-spoke implementation task.","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T17:07:28.151922-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T19:19:24.215067-06:00","closed_at":"2026-02-19T19:19:24.215067-06:00","close_reason":"Implemented in hub-and-spoke slide splitting session: split package with Splitter interface, HubAndSpoke strategy, CLI flags, integration tests. All tests + linter pass.","dependencies":[{"issue_id":"test-loom-izp","depends_on_id":"test-loom-f13","type":"blocks","created_at":"2026-02-19T17:07:38.349872-06:00","created_by":"Oleh Luchkiv"}]}
{"id":"test-loom-jzu","title":"Show file paths in Mermaid diagram blocks for interfaces and implementations","description":"Add source file path information to each class block in the generated Mermaid diagram. Both interface and implementation blocks should display the file path where they are defined. This requires: (1) capturing file position during analysis in analyzer.go (using go/packages token position info), (2) storing file path in InterfaceDef and TypeDef structs in types.go, (3) rendering the file path in the Mermaid class block in mermaid.go (e.g. as a note or first line in the block). The file path should be relative to the analyzed module root for readability.","status":"closed","priority":2,"issue_type":"feature","owner":"olesho@gmail.com","created_at":"2026-02-19T16:24:30.267171-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:43:48.378403-06:00","closed_at":"2026-02-19T16:43:48.378403-06:00","close_reason":"Closed"}
{"id":"test-loom-mce","title":"Smoke test goifaces against real Go repositories","description":"Test the binary against real repos: 1) ./goifaces https://github.com/hashicorp/go-memdb 2) ./goifaces on the goifaces project itself 3) A large repo to stress-test. Verify diagrams render correctly, logs are valid JSONL, and edge cases (compile errors, missing deps) produce warnings not crashes.","status":"closed","priority":2,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:41.428593-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T16:48:48.592292-06:00","closed_at":"2026-02-19T16:48:48.592292-06:00","close_reason":"Closed"}
{"id":"test-loom-snp","title":"Scaffold goifaces project structure","description":"go mod init, directory structure, .golangci.yml, .githooks/pre-commit, .gitignore, git init with custom hooks path","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:22.110035-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:05:26.501622-06:00","closed_at":"2026-02-19T09:05:26.501622-06:00","close_reason":"Project scaffolded with all dirs, configs, and git hooks"}
{"id":"test-loom-vnu","title":"Implement main.go CLI entry point","description":"main.go - flag parsing (path, port, filter, include-stdlib, include-unexported, output, no-browser, log-file, log-level), pipeline orchestration, signal handling","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T09:06:24.159055-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T09:06:27.84161-06:00","closed_at":"2026-02-19T09:06:27.84161-06:00","close_reason":"Full pipeline wired: resolve → analyze → filter → enrich → diagram → serve/write"}
{"id":"test-loom-wa8","title":"Design splitter abstraction as a decoupled module","description":"Create a Splitter interface in internal/diagram/split/ (new subpackage) that takes an *analyzer.Result and returns []Slide. The interface should be strategy-based so we can swap different splitting algorithms without touching the rest of the codebase.\n\nKey design:\n- type Splitter interface { Split(result *analyzer.Result, opts SplitOptions) []Slide }\n- SplitOptions carries config: max implementations per slide, min connections to be 'reusable', etc.\n- The existing BuildSlides() in slides.go becomes a thin wrapper that delegates to a Splitter\n- Splitters are composed in main.go, not hardcoded\n\nThis is the abstraction layer only — no concrete strategy implementation.","status":"closed","priority":1,"issue_type":"task","owner":"olesho@gmail.com","created_at":"2026-02-19T17:07:15.357225-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T19:19:24.209267-06:00","closed_at":"2026-02-19T19:19:24.209267-06:00","close_reason":"Implemented in hub-and-spoke slide splitting session: split package with Splitter interface, HubAndSpoke strategy, CLI flags, integration tests. All tests + linter pass."}
{"id":"test-loom-xp4","title":"Support flags after positional arguments in CLI","description":"Go's flag package stops parsing at the first non-flag argument, so 'goifaces ./path -output file.md' doesn't work — flags must come before the positional arg. Consider switching to pflag or manually parsing args to support both orderings.","status":"closed","priority":3,"issue_type":"bug","owner":"olesho@gmail.com","created_at":"2026-02-19T09:05:42.944588-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T11:04:29.439666-06:00","closed_at":"2026-02-19T11:04:29.439666-06:00","close_reason":"Fixed in 045b6fb. Added reorderArgs() to support flags in any position."}
{"id":"test-loom-z87","title":"Slide threshold prevents splitting for go-memdb (17 nodes \u003c 20)","description":"go-memdb has 5 interfaces + 12 types = 17 nodes. The default slide threshold is 20, so BuildSlides returns a single Full Diagram slide and never invokes the splitter. The threshold should account for relation density, not just node count. A graph with 17 nodes and 38 relations is highly connected and benefits from splitting.","status":"closed","priority":1,"issue_type":"bug","owner":"olesho@gmail.com","created_at":"2026-02-19T19:29:55.026577-06:00","created_by":"Oleh Luchkiv","updated_at":"2026-02-19T19:31:45.835999-06:00","closed_at":"2026-02-19T19:31:45.835999-06:00","close_reason":"Fixed threshold check to also split when relation count \u003e= threshold. go-memdb (17 nodes, 38 relations) now produces 5 slides."}
